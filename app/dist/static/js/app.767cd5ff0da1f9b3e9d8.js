webpackJsonp([1],{"1FIJ":function(t,s){},"8OCF":function(t,s,i){t.exports=i.p+"static/img/natural.ba7b173.png"},BWvV:function(t,s){},MfZi:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});i("K3J8"),i("qb6w");var e=i("/5sW"),r=i("Xxa5"),n=i.n(r),a=i("exGp"),c=i.n(a),o=i("Dd8w"),p=i.n(o),d=i("NYxO"),u={name:"TripDetails",computed:p()({},Object(d.d)({tripStatus:function(t){return t.trip.tripStatus},specifiedTripId:function(t){return t.trip.specifiedTripId}}),{tripDateStart:{get:function(){return this.$store.state.trip.tripDateStart},set:function(t){this.$store.commit("updateTripDateStart",t)}},tripDateEnd:{get:function(){return this.$store.state.trip.tripDateEnd},set:function(t){this.$store.commit("updateTripDateEnd",t)}},tripDescription:{get:function(){return this.$store.state.trip.tripDescription},set:function(t){this.$store.commit("updateTripDescription",t)}},tripTotalCash:{get:function(){return this.$store.state.trip.tripTotalCash},set:function(t){this.$store.commit("updateTripTotalCash",t)}},startFormIsValid:function(){return this.tripDescription&&this.tripDateStart&&this.tripDateEnd&&this.tripTotalCash},totalDays:function(){var t=Math.floor(new Date(this.tripDateEnd)/864e5),s=Math.floor(new Date(this.tripDateStart)/864e5);return t-s>=0?t-s+1:"The Trip cannot end before start"}}),methods:{resetTripForm:function(){this.$store.commit("resetTripForm")},addNewTrip:function(){this.$store.dispatch("fetchNewTrip",{description:this.tripDescription,dateStart:this.tripDateStart,dateEnd:this.tripDateEnd,totalCash:this.tripTotalCash}),this.$store.commit("updateSpendList",[])},updateTrip:function(){this.$store.dispatch("fetchUpdateTrip",{description:this.tripDescription,dateStart:this.tripDateStart,dateEnd:this.tripDateEnd,totalCash:this.tripTotalCash,tripId:this.specifiedTripId})}},updated:function(){this.$store.commit("updateTripStatus")}},M={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-lg-6 order-md-1 p-lg-4 mx-auto",attrs:{id:"TripSection"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row py-2"},[t._m(0),t._v(" "),e("div",{staticClass:"col p-0 text-right"},[e("button",{staticClass:"rounded-circle my-1",on:{click:t.resetTripForm}},[e("img",{staticClass:"mb-1",attrs:{src:i("StbM")}})])])]),t._v(" "),e("div",{staticClass:"row py-2"},[e("div",{staticClass:"col"},[t._m(1),t._v(" "),e("div",{staticClass:"row text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tripDateStart,expression:"tripDateStart"}],staticClass:"m-auto",attrs:{type:"date"},domProps:{value:t.tripDateStart},on:{input:function(s){s.target.composing||(t.tripDateStart=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col"},[t._m(2),t._v(" "),e("div",{staticClass:"row text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tripDateEnd,expression:"tripDateEnd"}],staticClass:"m-auto",attrs:{type:"date"},domProps:{value:t.tripDateEnd},on:{input:function(s){s.target.composing||(t.tripDateEnd=s.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col-6"},[t._m(3),t._v(" "),e("div",{staticClass:"row py-2 text-left"},[e("p",{staticClass:"col-6 my-auto"},[t._v("YOUR CASH")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tripTotalCash,expression:"tripTotalCash"}],staticClass:"col-5 my-auto mr-auto",attrs:{type:"number",min:"0",max:"999999"},domProps:{value:t.tripTotalCash},on:{input:function(s){s.target.composing||(t.tripTotalCash=s.target.value)}}})])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tripDescription,expression:"tripDescription"}],staticClass:"col-6 ml-auto",domProps:{value:t.tripDescription},on:{input:function(s){s.target.composing||(t.tripDescription=s.target.value)}}})]),t._v(" "),t.startFormIsValid?e("div",{staticClass:"row py-3 pb-5"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row text-left"},[e("label",{staticClass:"col-6 my-auto",attrs:{for:"totalDays"}},[t._v("DAYS TOTAL")]),t._v(" "),e("p",{staticClass:"col-6 my-auto font-weight-bold text-white"},[t._v(" "+t._s(t.totalDays)+" ")])])]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row text-center"},[t.tripStatus.notStarted||t.tripStatus.inProcess||t.tripStatus.finished?e("label",{staticClass:"co my-auto",attrs:{for:"tripStatus"}},[t._v("TRIP STATUS")]):t._e(),t._v(" "),t.tripStatus.notStarted?e("p",{staticClass:"col my-auto text-white",attrs:{id:"tripStatus"}},[t._v(" NOT STARTED ")]):t._e(),t._v(" "),t.tripStatus.inProcess?e("p",{staticClass:"col my-auto text-white",attrs:{id:"tripStatus"}},[t._v(" IN PROCESS ")]):t._e(),t._v(" "),t.tripStatus.finished?e("p",{staticClass:"col my-auto text-white",attrs:{id:"tripStatus"}},[t._v(" FINISHED ")]):t._e()])])]):t._e(),t._v(" "),e("div",{staticClass:"row py-lg-4 pb-lg-5"},[e("button",{staticClass:"col-2 rounded-pill ml-auto mr-3 my-1 py-1 px-0",attrs:{disabled:!t.startFormIsValid},on:{click:t.addNewTrip}},[e("img",{staticClass:"mb-1",attrs:{src:i("iQll")}})]),t._v(" "),e("button",{staticClass:"col-2 rounded-pill mr-auto ml-3 my-1 py-1 px-0",attrs:{disabled:!t.startFormIsValid},on:{click:t.updateTrip}},[e("img",{staticClass:"mb-1",attrs:{src:i("mpQm")}})])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col p-0 text-left"},[s("h3",{staticClass:"my-auto font-weight-bold"},[this._v(" Trip Details ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row text-center"},[s("p",{staticClass:"col my-auto pb-2"},[this._v("DATE START")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row text-center"},[s("p",{staticClass:"col my-auto pb-2"},[this._v("DATE END")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row py-2 text-left"},[s("p",{staticClass:"col ml-auto"},[this._v("DESCRIPTION")])])}]},l=i("VU/8")(u,M,!1,null,null,null).exports,D={name:"TripInfo",computed:p()({},Object(d.d)({tripStatus:function(t){return t.trip.tripStatus},tripTotalCash:function(t){return t.trip.tripTotalCash},tripDateEnd:function(t){return t.trip.tripDateEnd},spendsList:function(t){return t.spendsList}}),{cashLeft:function(){if(0===this.spendsList.length)return+this.tripTotalCash;var t=this.tripTotalCash;return this.spendsList.forEach(function(s){t-=s.spends_sum}),t<0?"Nothing left":t},totalSpends:function(){if(0===this.spendsList.length)return 0;var t=0;return this.spendsList.forEach(function(s){t+=s.spends_sum}),t},daysLeft:function(){return Math.floor(new Date(this.tripDateEnd)/864e5)-Math.floor(new Date/864e5)+1},everydayCash:function(){return"number"==typeof this.cashLeft?Math.round(this.cashLeft/this.daysLeft):"You are out of budget"}})},L={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"col-lg-12 order-md-3 py-lg-1"},[i("div",{staticClass:"row pt-4 text-center"},[i("div",{staticClass:"col mx-auto",class:{inactive:!t.tripStatus.inProcess}},[i("label",{attrs:{for:"daysLeft"}},[t._v("DAYS LEFT")]),t._v(" "),i("p",{staticClass:"font-weight-bold text-white",attrs:{id:"daysLeft"}},[t._v(" "+t._s(t.daysLeft)+" ")])]),t._v(" "),i("div",{staticClass:"everydayCash col mx-auto",class:{inactive:!t.tripStatus.inProcess}},[i("label",[t._v("CASH PER DAY")]),t._v(" "),i("p",{staticClass:"font-weight-bold text-white"},[t._v(t._s(t._f("currency")(t.everydayCash,"RUB"))+" ")])]),t._v(" "),i("div",{staticClass:"col mx-auto",class:{inactive:t.tripStatus.notStarted}},[i("label",[t._v("CASH REST")]),t._v(" "),i("p",{staticClass:"font-weight-bold text-white"},[t._v(" "+t._s(t._f("currency")(t.cashLeft,"RUB"))+" ")])]),t._v(" "),i("div",{staticClass:"col mx-auto",class:{inactive:!t.tripStatus.finished}},[i("label",[t._v("TOTAL EXPENSES")]),t._v(" "),i("p",{staticClass:"font-weight-bold text-white"},[t._v(" "+t._s(t._f("currency")(t.totalSpends,"RUB"))+" ")])])])])},staticRenderFns:[]};var N=i("VU/8")(D,L,!1,function(t){i("1FIJ")},"data-v-38930636",null).exports,T={name:"ExpensesList",props:{allSpends:{required:!0,type:Array}},computed:p()({},Object(d.d)({tripStatus:function(t){return t.trip.tripStatus},specifiedTripId:function(t){return t.trip.specifiedTripId},specifiedSpendId:function(t){return t.spend.specifiedSpendId}})),methods:{chooseSpend:function(t){this.$store.commit("updateChosenSpendId",t.id),this.$store.commit("updateSpendDescription",t.description),this.$store.commit("updateSpendCash",t.spends_sum)},removeSpend:function(t){this.$store.dispatch("fetchDeleteSpend",{tripId:this.specifiedTripId,spendId:t.id}),this.specifiedSpendId===t.id&&this.$store.commit("resetSpendForm")}}},C={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.tripStatus.inProcess||t.tripStatus.finished?e("div",{staticClass:"row py-1 text-center"},[e("details",{staticClass:"col my-auto"},[e("summary",{staticClass:"col my-auto font-weight-bold"},[t._v("LIST OF EXPENSES")]),t._v(" "),e("div",{staticClass:"row py-1 text-center",class:{ShortList:!t.tripStatus.finished,LongList:t.tripStatus.finished}},[0!==t.allSpends.length?e("table",{staticClass:"table table-sm table-striped"},[t._m(0),t._v(" "),e("tbody",t._l(t.allSpends,function(s){return e("tr",{key:s.id,class:{activeRow:t.specifiedSpendId===s.id&&t.tripStatus.inProcess}},[e("td",[t.tripStatus.finished?t._e():e("img",{attrs:{src:i("aZ8K")},on:{click:function(i){return t.removeSpend(s)}}})]),t._v(" "),e("td",{on:{click:function(i){return t.chooseSpend(s)}}},[t._v(t._s(s.description))]),t._v(" "),e("td",{on:{click:function(i){return t.chooseSpend(s)}}},[t._v(t._s(s.date))]),t._v(" "),e("td",{on:{click:function(i){return t.chooseSpend(s)}}},[t._v(t._s(t._f("currency")(s.spends_sum,"RUB")))])])}),0)]):t._e()])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th"),this._v(" "),s("th",[this._v("Description")]),this._v(" "),s("th",[this._v("Date")]),this._v(" "),s("th",[this._v("Expense Amount")])])}]};var m=i("VU/8")(T,C,!1,function(t){i("MfZi")},"data-v-537dfbdd",null).exports,h={name:"ExpenseDetails",computed:p()({},Object(d.d)({spendDate:function(t){return t.spend.spendDate},specifiedSpendId:function(t){return t.spend.specifiedSpendId},specifiedTripId:function(t){return t.trip.specifiedTripId},tripStatus:function(t){return t.trip.tripStatus},tripTotalCash:function(t){return t.trip.tripTotalCash},spendsList:function(t){return t.spendsList}}),{spendDescription:{get:function(){return this.$store.state.spend.spendDescription},set:function(t){this.$store.commit("updateSpendDescription",t)}},spendCash:{get:function(){return this.$store.state.spend.spendCash},set:function(t){this.$store.commit("updateSpendCash",t)}},spendFormIsValid:function(){return this.spendDescription&&this.spendCash},enoughCash:function(){var t=0;return this.spendsList.forEach(function(s){t+=s.spends_sum}),this.tripTotalCash-t}}),methods:{resetSpendForm:function(){this.$store.commit("resetSpendForm")},saveSpendToDatabase:function(){this.$store.dispatch("fetchNewSpend",{tripId:this.specifiedTripId,description:this.spendDescription,date:this.spendDate,spendCash:this.spendCash})},updateSpend:function(){this.$store.dispatch("fetchUpdateSpend",{spendId:this.specifiedSpendId,tripId:this.specifiedTripId,description:this.spendDescription,date:this.spendDate,spendCash:this.spendCash})}},components:{ExpensesList:m}},j={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-lg-6 order-md-2 pt-lg-4 px-lg-4 mx-auto"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row py-2"},[t._m(0),t._v(" "),e("div",{staticClass:"col p-0 text-right"},[e("button",{staticClass:"rounded-circle my-1",on:{click:t.resetSpendForm}},[e("img",{staticClass:"mb-1",attrs:{src:i("StbM")}})])])]),t._v(" "),t.tripStatus.inProcess?e("div",{staticClass:"row py-3"},[e("label",{staticClass:"col my-auto py-2"},[t._v("CURRENT DATE")]),t._v(" "),e("p",{staticClass:"col my-auto py-2 text-white"},[t._v(" "+t._s(t.spendDate)+" ")])]):t._e(),t._v(" "),t.tripStatus.inProcess?e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col-6"},[t._m(1),t._v(" "),e("div",{staticClass:"row py-1 text-left"},[e("p",{staticClass:"col-6 my-auto"},[t._v("EXPENSE AMOUNT")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.spendCash,expression:"spendCash"}],staticClass:"col-5 my-auto mr-auto",attrs:{type:"number",min:"0",max:"999999"},domProps:{value:t.spendCash},on:{input:function(s){s.target.composing||(t.spendCash=s.target.value)}}})])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.spendDescription,expression:"spendDescription"}],staticClass:"col-6 ml-auto",domProps:{value:t.spendDescription},on:{input:function(s){s.target.composing||(t.spendDescription=s.target.value)}}})]):t._e(),t._v(" "),t.tripStatus.inProcess?e("div",{staticClass:"row py-2"},[e("button",{staticClass:"col-2 rounded-pill ml-auto mr-3 my-1 py-1 px-0",attrs:{disabled:!t.spendFormIsValid||t.enoughCash<=0},on:{click:t.saveSpendToDatabase}},[e("img",{staticClass:"mb-1",attrs:{src:i("iQll")}})]),t._v(" "),e("button",{staticClass:"col-2 rounded-pill mr-auto mr-3 my-1 py-1 px-0",attrs:{disabled:0==t.specifiedSpendId||!t.spendDescription},on:{click:t.updateSpend}},[e("img",{staticClass:"mb-1",attrs:{src:i("mpQm")}})])]):t._e(),t._v(" "),t.tripStatus.inProcess||t.tripStatus.finished?e("expenses-list",{attrs:{allSpends:t.spendsList}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col p-0 text-left"},[s("h3",{staticClass:"my-auto font-weight-bold"},[this._v(" Expense Details ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row py-1 text-left"},[s("p",{staticClass:"col ml-auto"},[this._v("EXPENSE DESCRIPTION")])])}]},I=i("VU/8")(h,j,!1,null,null,null).exports,f={name:"TripsList",computed:p()({},Object(d.d)({specifiedTripId:function(t){return t.trip.specifiedTripId}})),props:{allTrips:{required:!0,type:Array}},methods:{removeTrip:function(t){this.$store.dispatch("fetchDeleteTrip",t.id),t.id===this.specifiedTripId&&(this.$store.commit("resetSpendForm"),this.$store.commit("resetTripForm"),this.$store.commit("updateSpendList",[]))},chooseTrip:function(t){this.$store.commit("updateChosenTripId",t.id),this.$store.dispatch("fetchAllSpends",this.specifiedTripId),this.$store.commit("updateTripDescription",t.description),this.$store.commit("updateTripDateStart",t.trip_start),this.$store.commit("updateTripDateEnd",t.trip_end),this.$store.commit("updateTripTotalCash",t.total_cash),this.$store.commit("resetSpendForm")}}},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("details",{staticClass:"col-lg-10 mx-auto"},[e("summary",{staticClass:"col my-auto font-weight-bold"},[t._v("SCHEDULE OF TRIPS")]),t._v(" "),e("div",{staticClass:"TripList row py-1 text-center"},[e("div",{staticClass:"col mb-auto"},[e("table",{staticClass:"table table-md table-striped"},[t._m(0),t._v(" "),e("tbody",{staticClass:"overflow-auto",attrs:{id:"TripList"}},t._l(t.allTrips,function(s){return e("tr",{key:s.id,class:{activeRow:t.specifiedTripId===s.id}},[e("td",[e("img",{attrs:{src:i("aZ8K")},on:{click:function(i){return t.removeTrip(s)}}})]),t._v(" "),e("td",{on:{click:function(i){return t.chooseTrip(s)}}},[t._v(t._s(s.description))]),t._v(" "),e("td",{on:{click:function(i){return t.chooseTrip(s)}}},[t._v(t._s(t._f("date")(s.trip_start,"date")))]),t._v(" "),e("td",{on:{click:function(i){return t.chooseTrip(s)}}},[t._v(t._s(t._f("date")(s.trip_end,"date")))]),t._v(" "),e("td",{on:{click:function(i){return t.chooseTrip(s)}}},[t._v(t._s(t._f("currency")(s.total_cash,"RUB")))])])}),0)])])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("thead",[i("th"),t._v(" "),i("th",[t._v("Description")]),t._v(" "),i("th",[t._v("Trip Starts")]),t._v(" "),i("th",[t._v("Trip Ends")]),t._v(" "),i("th",[t._v("Cash")])])}]};var v=i("VU/8")(f,w,!1,function(t){i("nzy1")},"data-v-7f024c00",null).exports,z={name:"App",computed:p()({},Object(d.d)({tripStatus:function(t){return t.trip.tripStatus},tripDescription:function(t){return t.trip.tripDescription},tripDateStart:function(t){return t.trip.tripDateStart},tripDateEnd:function(t){return t.trip.tripDateEnd},tripTotalCash:function(t){return t.trip.tripTotalCash},tripsList:function(t){return t.tripsList}}),{startFormIsValid:function(){return this.tripDescription&&this.tripDateStart&&this.tripDateEnd&&this.tripTotalCash}}),methods:p()({},Object(d.b)(["fetchAllTrips"]),Object(d.c)(["updateTripStatus"])),mounted:function(){var t=this;return c()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.fetchAllTrips();case 1:case"end":return s.stop()}},s,t)}))()},updated:function(){this.updateTripStatus()},components:{TripDetails:l,TripInfo:N,ExpenseDetails:I,TripsList:v}},S={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container-fluid text-center"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"row text-center"},[i("trip-details"),t._v(" "),i("trip-info",{class:{inactive:!t.startFormIsValid||t.tripStatus.notStarted}}),t._v(" "),i("expense-details",{class:{inactive:!t.startFormIsValid||t.tripStatus.notStarted}})],1),t._v(" "),i("div",{staticClass:"row py-1 text-center"},[i("trips-list",{attrs:{allTrips:t.tripsList}})],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("img",{staticClass:"backgroundImage",attrs:{src:i("8OCF")}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("header",{staticClass:"row py-1 sticky-top"},[s("h1",{staticClass:"mx-2 font-weight-bold"},[this._v("Pocket Cash Calculator")])])}]};var y=i("VU/8")(z,S,!1,function(t){i("BWvV")},null,null).exports,g=i("mvHQ"),x=i.n(g),E="http://127.0.0.1",_=Object({NODE_ENV:"production"}).PORT||4001,O={state:{tripDescription:"",tripDateStart:"",tripDateEnd:"",tripTotalCash:0,specifiedTripId:0,tripStatus:{notStarted:!1,inProcess:!1,finished:!1}},actions:{fetchAllTrips:function(t){var s=this,i=t.commit;return c()(n.a.mark(function t(){var e,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(E+":"+_+"/api/trips");case 2:return e=t.sent,t.next=5,e.json();case 5:r=t.sent,i("updateTripList",r);case 7:case"end":return t.stop()}},t,s)}))()},fetchNewTrip:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r,a,c,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={description:s.description,dateStart:s.dateStart,dateEnd:s.dateEnd,totalCash:s.totalCash},a={method:"POST",headers:{"Content-Type":"application/json"},body:x()({trip:r})},t.next=4,fetch(E+":"+_+"/api/trips",a);case 4:return c=t.sent,t.next=7,c.json();case 7:o=t.sent,e("updateChosenTripId",o.trip.id),e("addTripToTripList",o.trip);case 10:case"end":return t.stop()}},t,i)}))()},fetchUpdateTrip:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r,a,c,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={description:s.description,dateStart:s.dateStart,dateEnd:s.dateEnd,totalCash:s.totalCash},a={method:"PUT",headers:{"Content-Type":"application/json"},body:x()({trip:r})},t.next=4,fetch(E+":"+_+"/api/trips/"+s.tripId,a);case 4:return c=t.sent,t.next=7,c.json();case 7:o=t.sent,e("updateTripInTripList",o);case 9:case"end":return t.stop()}},t,i)}))()},fetchDeleteTrip:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"DELETE"},t.next=3,fetch(E+":"+_+"/api/trips/"+s,r);case 3:t.sent,e("removeTripFromTripList",s);case 5:case"end":return t.stop()}},t,i)}))()}},mutations:{updateTripDescription:function(t,s){t.tripDescription=s},updateTripDateStart:function(t,s){t.tripDateStart=s},updateTripDateEnd:function(t,s){t.tripDateEnd=s},updateTripTotalCash:function(t,s){t.tripTotalCash=s},updateChosenTripId:function(t,s){t.specifiedTripId=s},resetTripForm:function(t){t.tripDescription="",t.tripDateStart="",t.tripDateEnd="",t.tripTotalCash="",t.specifiedTripId=0},updateTripStatus:function(t){var s=Math.floor(new Date/864e5),i=Math.floor(new Date(t.tripDateStart)/864e5),e=Math.floor(new Date(t.tripDateEnd)/864e5);t.tripDescription&&t.tripDateStart&&t.tripDateEnd&&t.tripTotalCash&&(s-i<0?(t.tripStatus.notStarted=!0,t.tripStatus.inProcess=!1,t.tripStatus.finished=!1):s-i>=0&&s-e<=0?(t.tripStatus.notStarted=!1,t.tripStatus.inProcess=!0,t.tripStatus.finished=!1):s-e>0&&(t.tripStatus.notStarted=!1,t.tripStatus.inProcess=!1,t.tripStatus.finished=!0))}}},A={state:{spendDescription:"",spendDate:(new Date).toLocaleDateString(),spendCash:0,specifiedSpendId:0},actions:{fetchAllSpends:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(E+":"+_+"/api/trips/"+s+"/spends");case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,e("updateSpendList",a);case 7:case"end":return t.stop()}},t,i)}))()},fetchNewSpend:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r,a,c,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={tripId:s.tripId,description:s.description,date:s.date,spendCash:s.spendCash},a={method:"POST",headers:{"Content-Type":"application/json"},body:x()({spend:r})},t.next=4,fetch(E+":"+_+"/api/trips/"+s.tripId+"/spends",a);case 4:return c=t.sent,t.next=7,c.json();case 7:o=t.sent,e("updateChosenSpendId",o.spend.id),e("addSpendToSpendList",o.spend);case 10:case"end":return t.stop()}},t,i)}))()},fetchUpdateSpend:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r,a,c,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={tripId:s.tripId,description:s.description,spendCash:s.spendCash},a={method:"PUT",headers:{"Content-Type":"application/json"},body:x()({spend:r})},t.next=4,fetch(E+":"+_+"/api/trips/"+s.tripId+"/spends/"+s.spendId,a);case 4:return c=t.sent,t.next=7,c.json();case 7:o=t.sent,e("updateSpendInSpendList",o);case 9:case"end":return t.stop()}},t,i)}))()},fetchDeleteSpend:function(t,s){var i=this,e=t.commit;return c()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"DELETE"},t.next=3,fetch(E+":"+_+"/api/trips/"+s.tripId+"/spends/"+s.spendId,r);case 3:t.sent,e("removeSpendFromSpendList",s.spendId);case 5:case"end":return t.stop()}},t,i)}))()}},mutations:{updateSpendDescription:function(t,s){t.spendDescription=s},updateSpendCash:function(t,s){t.spendCash=s},updateChosenSpendId:function(t,s){t.specifiedSpendId=s},resetSpendForm:function(t){t.spendDescription="",t.spendCash=0,t.specifiedSpendId=0}}};e.a.use(d.a);var b=new d.a.Store({state:{tripsList:[],spendsList:[]},mutations:{updateTripList:function(t,s){t.tripsList=s},addTripToTripList:function(t,s){t.tripsList.push(s)},updateTripInTripList:function(t,s){t.tripsList.forEach(function(i){if(i.id===s.trip.id){var e=t.tripsList.indexOf(i);t.tripsList.splice(e,1,s.trip)}})},removeTripFromTripList:function(t,s){t.tripsList=t.tripsList.filter(function(t){return t.id!==s})},updateSpendList:function(t,s){t.spendsList=s},addSpendToSpendList:function(t,s){t.spendsList.push(s)},updateSpendInSpendList:function(t,s){t.spendsList.forEach(function(i){if(i.id===s.spend.id){var e=t.spendsList.indexOf(i);t.spendsList.splice(e,1,s.spend)}})},removeSpendFromSpendList:function(t,s){t.spendsList=t.spendsList.filter(function(t){return t.id!==s})}},modules:{trip:O,spend:A}});e.a.config.productionTip=!1,e.a.filter("date",function(t,s){return new Intl.DateTimeFormat("ru-RU").format(new Date(t))}),e.a.filter("currency",function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],"number"==typeof t?new Intl.NumberFormat("ru",{style:"currency",currency:"RUB"}).format(t):t}),new e.a({store:b,render:function(t){return t(y)}}).$mount("#app")},StbM:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MCA0MCIgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCI+PHBhdGggZmlsbD0iIzhiYjdmMCIgZD0iTTQuMjA3LDM1LjVsMi41NzMtMi41NzRsLTAuMzI4LTAuMzUzQzMuMjU5LDI5LjE0MywxLjUsMjQuNjc3LDEuNSwyMEMxLjUsOS43OTksOS43OTksMS41LDIwLDEuNSBjMC43NzYsMCwxLjU5OCwwLjA2MiwyLjUsMC4xOXY0LjAzMkMyMS42NjEsNS41NzUsMjAuODIzLDUuNSwyMCw1LjVDMTIuMDA1LDUuNSw1LjUsMTIuMDA1LDUuNSwyMCBjMCwzLjU3OCwxLjMzNyw3LjAyMywzLjc2NSw5LjcwMWwwLjM1MywwLjM4OWwyLjg4My0yLjg4M1YzNS41SDQuMjA3eiIvPjxwYXRoIGZpbGw9IiM0ZTdhYjUiIGQ9Ik0yMCwyYzAuNjI3LDAsMS4yODcsMC4wNDIsMiwwLjEyOXYzLjAwOUMyMS4zMyw1LjA0NiwyMC42NjEsNSwyMCw1QzExLjcyOSw1LDUsMTEuNzI5LDUsMjAgYzAsMy43MDIsMS4zODMsNy4yNjcsMy44OTQsMTAuMDM3bDAuNzA1LDAuNzc4bDAuNzQzLTAuNzQzTDEyLDI4LjQxNFYzNUg1LjQxNGwxLjM3OS0xLjM3OWwwLjY4Mi0wLjY4MmwtMC42NTctMC43MDYgQzMuNzExLDI4Ljg5NSwyLDI0LjU1MSwyLDIwQzIsMTAuMDc1LDEwLjA3NSwyLDIwLDIgTTIwLDFDOS41MDcsMSwxLDkuNTA3LDEsMjBjMCw0Ljk5NCwxLjkzNCw5LjUyNyw1LjA4NiwxMi45MTRMMywzNmgxMFYyNiBsLTMuMzY1LDMuMzY1QzcuMzg3LDI2Ljg4NSw2LDIzLjYxMiw2LDIwYzAtNy43MzIsNi4yNjgtMTQsMTQtMTRjMS4wMzEsMCwyLjAzMywwLjExOSwzLDAuMzNWMS4yNTlDMjIuMDIsMS4xMDQsMjEuMDIzLDEsMjAsMSBMMjAsMXoiLz48Zz48cGF0aCBmaWxsPSIjOGJiN2YwIiBkPSJNMjAsMzguNWMtMC43NzYsMC0xLjU5OC0wLjA2Mi0yLjUtMC4xOXYtNC4wMzJjMC44MzksMC4xNDcsMS42NzcsMC4yMjIsMi41LDAuMjIyIGM3Ljk5NSwwLDE0LjUtNi41MDUsMTQuNS0xNC41YzAtMy41ODMtMS4zMzYtNy4wMy0zLjc2MS05LjcwNmwtMC4zNTMtMC4zODlMMjcuNSwxMi43OTNWNC41aDguMjkzbC0yLjU4MSwyLjU4MmwwLjMyOCwwLjM1NCBDMzYuNzM4LDEwLjg3MiwzOC41LDE1LjMzNCwzOC41LDIwQzM4LjUsMzAuMjAxLDMwLjIwMSwzOC41LDIwLDM4LjV6Ii8+PHBhdGggZmlsbD0iIzRlN2FiNSIgZD0iTTM0LjU4Niw1bC0xLjM4NywxLjM4N2wtMC42ODIsMC42ODJsMC42NTcsMC43MDZDMzYuMjg2LDExLjExOSwzOCwxNS40NjEsMzgsMjAgYzAsOS45MjUtOC4wNzUsMTgtMTgsMThjLTAuNjI3LDAtMS4yODctMC4wNDItMi0wLjEyOXYtMy4wMDlDMTguNjcsMzQuOTU0LDE5LjMzOSwzNSwyMCwzNWM4LjI3MSwwLDE1LTYuNzI5LDE1LTE1IGMwLTMuNzA4LTEuMzgxLTcuMjc0LTMuODktMTAuMDQxbC0wLjcwNS0wLjc3OGwtMC43NDMsMC43NDNMMjgsMTEuNTg2VjVIMzQuNTg2IE0zNyw0SDI3djEwbDMuMzY5LTMuMzY5IEMzMi42MTgsMTMuMTExLDM0LDE2LjM4OCwzNCwyMGMwLDcuNzMyLTYuMjY4LDE0LTE0LDE0Yy0xLjAzMSwwLTIuMDMzLTAuMTE5LTMtMC4zM3Y1LjA3MUMxNy45OCwzOC44OTYsMTguOTc3LDM5LDIwLDM5IGMxMC40OTMsMCwxOS04LjUwNywxOS0xOWMwLTQuOTkzLTEuOTQyLTkuNTE5LTUuMDk0LTEyLjkwNkwzNyw0TDM3LDR6Ii8+PC9nPjwvc3ZnPg=="},aZ8K:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMnB0IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0yNTYgMGMtMTQxLjE2NDA2MiAwLTI1NiAxMTQuODM1OTM4LTI1NiAyNTZzMTE0LjgzNTkzOCAyNTYgMjU2IDI1NiAyNTYtMTE0LjgzNTkzOCAyNTYtMjU2LTExNC44MzU5MzgtMjU2LTI1Ni0yNTZ6bTAgMCIgZmlsbD0iI2Y0NDMzNiIvPjxwYXRoIGQ9Im0zNTAuMjczNDM4IDMyMC4xMDU0NjljOC4zMzk4NDMgOC4zNDM3NSA4LjMzOTg0MyAyMS44MjQyMTkgMCAzMC4xNjc5NjktNC4xNjAxNTcgNC4xNjAxNTYtOS42MjEwOTQgNi4yNS0xNS4wODU5MzggNi4yNS01LjQ2MDkzOCAwLTEwLjkyMTg3NS0yLjA4OTg0NC0xNS4wODIwMzEtNi4yNWwtNjQuMTA1NDY5LTY0LjEwOTM3Ni02NC4xMDU0NjkgNjQuMTA5Mzc2Yy00LjE2MDE1NiA0LjE2MDE1Ni05LjYyMTA5MyA2LjI1LTE1LjA4MjAzMSA2LjI1LTUuNDY0ODQ0IDAtMTAuOTI1NzgxLTIuMDg5ODQ0LTE1LjA4NTkzOC02LjI1LTguMzM5ODQzLTguMzQzNzUtOC4zMzk4NDMtMjEuODI0MjE5IDAtMzAuMTY3OTY5bDY0LjEwOTM3Ni02NC4xMDU0NjktNjQuMTA5Mzc2LTY0LjEwNTQ2OWMtOC4zMzk4NDMtOC4zNDM3NS04LjMzOTg0My0yMS44MjQyMTkgMC0zMC4xNjc5NjkgOC4zNDM3NS04LjMzOTg0MyAyMS44MjQyMTktOC4zMzk4NDMgMzAuMTY3OTY5IDBsNjQuMTA1NDY5IDY0LjEwOTM3NiA2NC4xMDU0NjktNjQuMTA5Mzc2YzguMzQzNzUtOC4zMzk4NDMgMjEuODI0MjE5LTguMzM5ODQzIDMwLjE2Nzk2OSAwIDguMzM5ODQzIDguMzQzNzUgOC4zMzk4NDMgMjEuODI0MjE5IDAgMzAuMTY3OTY5bC02NC4xMDkzNzYgNjQuMTA1NDY5em0wIDAiIGZpbGw9IiNmYWZhZmEiLz48L3N2Zz4="},iQll:function(t,s){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjQ2LjM2MXB4IiBoZWlnaHQ9IjQ2LjM2MXB4IiB2aWV3Qm94PSIwIDAgNDYuMzYxIDQ2LjM2MSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDYuMzYxIDQ2LjM2MTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTQwLjIyNSwxNy4wNDJIMjkuMzUyVjYuMTQ4YzAtMy4zOS0yLjc2OS02LjEzOC02LjE1OS02LjEzOGMtMy4zODksMC02LjE1NywyLjc0OC02LjE1Nyw2LjEzOHYxMC44OTVINi4xMzkNCgkJQzIuNzUsMTcuMDQyLDAsMTkuNzksMCwyMy4xOGMwLDMuMzkxLDIuNzUsNi4xMzksNi4xMzksNi4xMzloMTAuODk3djEwLjg5NmMwLDMuMzksMi43NjgsNi4xMzgsNi4xNTcsNi4xMzgNCgkJYzMuMzksMCw2LjE1OS0yLjc0OCw2LjE1OS02LjEzOFYyOS4zMThsMTAuODczLDAuMDAyYzMuMzg5LDAsNi4xMzctMi43NSw2LjEzNy02LjE0MUM0Ni4zNjEsMTkuNzksNDMuNjEzLDE3LjA0Miw0MC4yMjUsMTcuMDQyeiINCgkJLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"},mpQm:function(t,s){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBvbHlnb24gc3R5bGU9ImZpbGw6IzNCM0IzQjsiIHBvaW50cz0iNDU2LjYxMiwwIDM5Ni41NzgsMCAxNDUuMDE4LDAgNzYuOTQ4LDAgMCwwIDAsNTEyIDc2Ljk0OCw1MTIgMzk2LjU3OCw1MTIgNTEyLDUxMiANCgk1MTIsNTUuMzg4ICIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzJCMkIyQjsiIGQ9Ik00NTYuNjEyLDBIMzU1LjY1NmMtNS4xNTUsMTg0LjM5Ni01Mi42ODQsMzU4LjE5LTEzMy4xOTgsNTEyaDE3NC4xMmgxMDAuNjI0DQoJYzguMTcyLDAsMTQuNzk4LTYuNjI1LDE0Ljc5OC0xNC43OThWNTUuMzg4TDQ1Ni42MTIsMHoiLz4NCjxyZWN0IHg9Ijk2LjE4IiB5PSIyNTYiIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiB3aWR0aD0iMzE5LjYzIiBoZWlnaHQ9IjI1NiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0NDQ0NDQzsiIGQ9Ik0zMjAuMjcsMjU2Yy0yMi43MTgsODkuODkyLTU1Ljc2MywxNzUuNjczLTk3LjgxMSwyNTZoMTc0LjEyaDE5LjIzM1YyNTZIMzIwLjI3eiIvPg0KPHBvbHlnb24gc3R5bGU9ImZpbGw6IzRENEQ0RDsiIHBvaW50cz0iMTY0LjI1LDAgMTg2LjAyNiw4MS42MTEgMTY0LjI1LDE3MS42NTMgOTYuMTgxLDE3MS42NTMgOTYuMTgxLDAgIi8+DQo8cmVjdCB4PSIxNjQuMjUiIHN0eWxlPSJmaWxsOiNDQ0NDQ0M7IiB3aWR0aD0iMjUxLjU2IiBoZWlnaHQ9IjE3MS42NSIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0FEQURBRDsiIGQ9Ik00MTUuODExLDE3MS42NTNWMGgtNjAuMTU0Yy0xLjYzMiw1OC4zOC03LjUxNywxMTUuNjk2LTE3LjM0NiwxNzEuNjUzSDQxNS44MTF6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojMkIyQjJCOyIgZD0iTTM1MC43MDEsMTMwLjMyMmMtNC4xNDMsMC03LjUtMy4zNTgtNy41LTcuNVY0OC44MzRjMC00LjE0MiwzLjM1Ny03LjUsNy41LTcuNXM3LjUsMy4zNTgsNy41LDcuNQ0KCXY3My45ODlDMzU4LjIwMSwxMjYuOTY0LDM1NC44NDQsMTMwLjMyMiwzNTAuNzAxLDEzMC4zMjJ6Ii8+DQo8Zz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojM0IzQjNCOyIgZD0iTTM1MC43MDEsMzM2LjAxaC0xODkuNDFjLTQuMTQyLDAtNy41LTMuMzU4LTcuNS03LjVzMy4zNTgtNy41LDcuNS03LjVoMTg5LjQxDQoJCWM0LjE0MywwLDcuNSwzLjM1OCw3LjUsNy41UzM1NC44NDQsMzM2LjAxLDM1MC43MDEsMzM2LjAxeiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiMzQjNCM0I7IiBkPSJNMzUwLjcwMSwzOTUuMjAxaC0xODkuNDFjLTQuMTQyLDAtNy41LTMuMzU4LTcuNS03LjVzMy4zNTgtNy41LDcuNS03LjVoMTg5LjQxDQoJCWM0LjE0MywwLDcuNSwzLjM1OCw3LjUsNy41UzM1NC44NDQsMzk1LjIwMSwzNTAuNzAxLDM5NS4yMDF6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6IzNCM0IzQjsiIGQ9Ik0zNTAuNzAxLDQ1NC4zOTJoLTE4OS40MWMtNC4xNDIsMC03LjUtMy4zNTgtNy41LTcuNXMzLjM1OC03LjUsNy41LTcuNWgxODkuNDENCgkJYzQuMTQzLDAsNy41LDMuMzU4LDcuNSw3LjVTMzU0Ljg0NCw0NTQuMzkyLDM1MC43MDEsNDU0LjM5MnoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"},nzy1:function(t,s){},qb6w:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.767cd5ff0da1f9b3e9d8.js.map